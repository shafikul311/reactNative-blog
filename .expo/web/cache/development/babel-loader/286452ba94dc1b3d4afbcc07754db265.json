{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeSharedElementConfig = normalizeSharedElementConfig;\nexports.normalizeSharedElementsConfig = normalizeSharedElementsConfig;\nexports.getActiveRoute = getActiveRoute;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction normalizeSharedElementConfig(sharedElementConfig) {\n  if (typeof sharedElementConfig === 'string') {\n    return {\n      id: sharedElementConfig,\n      otherId: sharedElementConfig,\n      animation: 'move'\n    };\n  } else {\n    var id = sharedElementConfig.id,\n        otherId = sharedElementConfig.otherId,\n        animation = sharedElementConfig.animation,\n        other = (0, _objectWithoutProperties2.default)(sharedElementConfig, [\"id\", \"otherId\", \"animation\"]);\n    return _objectSpread({\n      id: id,\n      otherId: otherId || id,\n      animation: animation || 'move'\n    }, other);\n  }\n}\n\nfunction normalizeSharedElementsConfig(sharedElementsConfig) {\n  if (!sharedElementsConfig || !sharedElementsConfig.length) return null;\n  return sharedElementsConfig.map(normalizeSharedElementConfig);\n}\n\nfunction isValidNavigationState(state) {\n  return 'index' in state && 'routes' in state;\n}\n\nfunction getActiveRoute(state) {\n  var route = state.routes[state.index];\n\n  if (route.state && isValidNavigationState(route.state)) {\n    return getActiveRoute(route.state);\n  }\n\n  return route;\n}","map":{"version":3,"sources":["utils.ts"],"names":["id","otherId","animation","other","sharedElementConfig","sharedElementsConfig","route","state","isValidNavigationState","getActiveRoute"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQO;;AAAA,SAAA,4BAAA,CAAA,mBAAA,EAEsB;AAC3B,MAAI,OAAA,mBAAA,KAAJ,QAAA,EAA6C;AAC3C,WAAO;AACLA,MAAAA,EAAE,EADG,mBAAA;AAELC,MAAAA,OAAO,EAFF,mBAAA;AAGLC,MAAAA,SAAS,EAHX;AAAO,KAAP;AADF,GAAA,MAMO;AAAA,QACGF,EADH,GACwCI,mBADxC,CAAA,EAAA;AAAA,QACOH,OADP,GACwCG,mBADxC,CAAA,OAAA;AAAA,QACgBF,SADhB,GACwCE,mBADxC,CAAA,SAAA;AAAA,QAC8BD,KAD9B,GAAA,CAAA,GAAA,yBAAA,CAAA,OAAA,EAAA,mBAAA,EAAA,CAAA,IAAA,EAAA,SAAA,EAAA,WAAA,CAAA,CAAA;AAEL,WAAA,aAAA,CAAA;AACEH,MAAAA,EAAE,EADJ,EAAA;AAEEC,MAAAA,OAAO,EAAEA,OAAO,IAFlB,EAAA;AAGEC,MAAAA,SAAS,EAAEA,SAAS,IAHtB;AAAA,KAAA,EAAA,KAAA,CAAA;AAOH;AAEM;;AAAA,SAAA,6BAAA,CAAA,oBAAA,EAE8B;AACnC,MAAI,CAAA,oBAAA,IAAyB,CAACG,oBAAoB,CAAlD,MAAA,EAA2D,OAAA,IAAA;AAC3D,SAAOA,oBAAoB,CAApBA,GAAAA,CAAP,4BAAOA,CAAP;AAGF;;AAAA,SAAA,sBAAA,CAAA,KAAA,EAE4B;AAC1B,SAAO,WAAA,KAAA,IAAoB,YAA3B,KAAA;AAIK;;AAAA,SAAA,cAAA,CAAA,KAAA,EAA4D;AACjE,MAAMC,KAAK,GAAGC,KAAK,CAALA,MAAAA,CAAaA,KAAK,CAAhC,KAAcA,CAAd;;AAEA,MAAID,KAAK,CAALA,KAAAA,IAAeE,sBAAsB,CAACF,KAAK,CAA/C,KAAyC,CAAzC,EAAwD;AAEtD,WAAOG,cAAc,CAACH,KAAK,CAA3B,KAAqB,CAArB;AAGF;;AAAA,SAAA,KAAA;AACD","sourcesContent":["import {\n  SharedElementConfig,\n  SharedElementsConfig,\n  SharedElementStrictConfig,\n  SharedElementsStrictConfig,\n} from './types';\nimport { Route, NavigationState } from '@react-navigation/native';\n\nexport function normalizeSharedElementConfig(\n  sharedElementConfig: SharedElementConfig\n): SharedElementStrictConfig {\n  if (typeof sharedElementConfig === 'string') {\n    return {\n      id: sharedElementConfig,\n      otherId: sharedElementConfig,\n      animation: 'move',\n    };\n  } else {\n    const { id, otherId, animation, ...other } = sharedElementConfig;\n    return {\n      id,\n      otherId: otherId || id,\n      animation: animation || 'move',\n      ...other,\n    };\n  }\n}\n\nexport function normalizeSharedElementsConfig(\n  sharedElementsConfig: SharedElementsConfig | undefined\n): SharedElementsStrictConfig | null {\n  if (!sharedElementsConfig || !sharedElementsConfig.length) return null;\n  return sharedElementsConfig.map(normalizeSharedElementConfig);\n}\n\nfunction isValidNavigationState(\n  state: Partial<NavigationState>\n): state is NavigationState {\n  return 'index' in state && 'routes' in state;\n}\n\n// Gets the current screen from navigation state\nexport function getActiveRoute(state: NavigationState): Route<any> {\n  const route = state.routes[state.index];\n\n  if (route.state && isValidNavigationState(route.state)) {\n    // Dive into nested navigators\n    return getActiveRoute(route.state);\n  }\n\n  return route;\n}\n"]},"metadata":{},"sourceType":"script"}