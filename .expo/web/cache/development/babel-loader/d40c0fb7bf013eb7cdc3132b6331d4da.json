{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Scic Porjects\\\\reactNative-blog\\\\node_modules\\\\react-native-shared-element\\\\build\\\\SharedElement.js\";\nvar _excluded = [\"onNode\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nexport function nodeFromRef(ref, isParent, parentInstance) {\n  var nodeHandle = ref ? findNodeHandle(ref) : undefined;\n  return nodeHandle ? {\n    ref: ref,\n    nodeHandle: nodeHandle,\n    isParent: isParent || false,\n    parentInstance: parentInstance\n  } : null;\n}\nexport var SharedElement = function (_React$Component) {\n  _inherits(SharedElement, _React$Component);\n\n  var _super = _createSuper(SharedElement);\n\n  function SharedElement() {\n    var _this;\n\n    _classCallCheck(this, SharedElement);\n\n    _this = _super.apply(this, arguments);\n    _this._node = null;\n\n    _this.onSetRef = function (ref) {\n      _this._node = nodeFromRef(ref, true, _assertThisInitialized(_this));\n\n      if (_this.props.onNode) {\n        _this.props.onNode(_this._node);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SharedElement, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!prevProps.onNode && this.props.onNode && this._node) {\n        this.props.onNode(this._node);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onNode = _this$props.onNode,\n          otherProps = _objectWithoutProperties(_this$props, _excluded);\n\n      return React.createElement(View, _extends({\n        ref: this.onSetRef,\n        collapsable: false\n      }, otherProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 16\n        }\n      }));\n    }\n  }]);\n\n  return SharedElement;\n}(React.Component);","map":{"version":3,"sources":["../src/SharedElement.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;;;AAUA,OAAM,SAAU,WAAV,CACJ,GADI,EAEJ,QAFI,EAGJ,cAHI,EAGgB;AAEpB,MAAM,UAAU,GAAG,GAAG,GAAG,cAAc,CAAC,GAAD,CAAjB,GAAyB,SAA/C;AACA,SAAO,UAAU,GACb;AACE,IAAA,GAAG,EAAH,GADF;AAEE,IAAA,UAAU,EAAV,UAFF;AAGE,IAAA,QAAQ,EAAE,QAAQ,IAAI,KAHxB;AAIE,IAAA,cAAc,EAAd;AAJF,GADa,GAOb,IAPJ;AAQD;AAED,WAAa,aAAb;AAAA;;AAAA;;AAAA,2BAAA;AAAA;;AAAA;;;AAOU,UAAA,KAAA,GAAkC,IAAlC;;AAEA,UAAA,QAAA,GAAW,UAAC,GAAD,EAAa;AAC9B,YAAK,KAAL,GAAa,WAAW,CAAC,GAAD,EAAM,IAAN,gCAAxB;;AACA,UAAI,MAAK,KAAL,CAAW,MAAf,EAAuB;AACrB,cAAK,KAAL,CAAW,MAAX,CAAkB,MAAK,KAAvB;AACD;AACF,KALO;;AATV;AAuBC;;AAvBD;AAAA;AAAA,WACE,4BAAmB,SAAnB,EAAgD;AAC9C,UAAI,CAAC,SAAS,CAAC,MAAX,IAAqB,KAAK,KAAL,CAAW,MAAhC,IAA0C,KAAK,KAAnD,EAA0D;AACxD,aAAK,KAAL,CAAW,MAAX,CAAkB,KAAK,KAAvB;AACD;AACF;AALH;AAAA;AAAA,WAgBE,kBAAM;AACJ,wBAGI,KAAK,KAHT;AAAA,UACE,MADF,eACE,MADF;AAAA,UAEK,UAFL;;AAIA,aAAO,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAE,KAAK,QAAhB;AAA0B,QAAA,WAAW,EAAE;AAAvC,SAAkD,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;AAtBH;;AAAA;AAAA,EAAmC,KAAK,CAAC,SAAzC","sourcesContent":["import * as React from \"react\";\nimport { View, findNodeHandle, ViewProps } from \"react-native\";\n\nimport { SharedElementNode } from \"./types\";\n\nexport type SharedElementProps = ViewProps & {\n  children: React.ReactNode;\n  onNode: (node: SharedElementNode | null) => void;\n};\n\nexport function nodeFromRef(\n  ref: any,\n  isParent?: boolean,\n  parentInstance?: any\n): SharedElementNode | null {\n  const nodeHandle = ref ? findNodeHandle(ref) : undefined;\n  return nodeHandle\n    ? {\n        ref,\n        nodeHandle,\n        isParent: isParent || false,\n        parentInstance\n      }\n    : null;\n}\n\nexport class SharedElement extends React.Component<SharedElementProps> {\n  componentDidUpdate(prevProps: SharedElementProps) {\n    if (!prevProps.onNode && this.props.onNode && this._node) {\n      this.props.onNode(this._node);\n    }\n  }\n\n  private _node: SharedElementNode | null = null;\n\n  private onSetRef = (ref: any) => {\n    this._node = nodeFromRef(ref, true, this);\n    if (this.props.onNode) {\n      this.props.onNode(this._node);\n    }\n  };\n\n  render() {\n    const {\n      onNode, //eslint-disable-line @typescript-eslint/no-unused-vars\n      ...otherProps\n    } = this.props;\n    return <View ref={this.onSetRef} collapsable={false} {...otherProps} />;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}