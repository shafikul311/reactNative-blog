{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { RNSharedElementNode } from \"./RNSharedElementNode.web\";\nexport var RNSharedElementNodeManager = function () {\n  function RNSharedElementNodeManager() {\n    _classCallCheck(this, RNSharedElementNodeManager);\n\n    this.nodes = new Map();\n  }\n\n  _createClass(RNSharedElementNodeManager, [{\n    key: \"acquire\",\n    value: function acquire(domNode, isParent, ancestorDomNode) {\n      var node = this.nodes.get(domNode);\n\n      if (node) {\n        node.addRef();\n        return node;\n      }\n\n      node = new RNSharedElementNode(domNode, isParent, ancestorDomNode);\n      this.nodes.set(domNode, node);\n      return node;\n    }\n  }, {\n    key: \"release\",\n    value: function release(node) {\n      var refCount = node.releaseRef();\n\n      if (!refCount) {\n        this.nodes.delete(node.domNode);\n      }\n\n      return refCount;\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!RNSharedElementNodeManager.instance) {\n        RNSharedElementNodeManager.instance = new RNSharedElementNodeManager();\n      }\n\n      return RNSharedElementNodeManager.instance;\n    }\n  }]);\n\n  return RNSharedElementNodeManager;\n}();","map":{"version":3,"sources":["../../src/web/RNSharedElementNodeManager.web.ts"],"names":[],"mappings":";;AAAA,SAAS,mBAAT;AAGA,WAAa,0BAAb;AAAA,wCAAA;AAAA;;AACU,SAAA,KAAA,GAAQ,IAAI,GAAJ,EAAR;AAgCT;;AAjCD;AAAA;AAAA,WAWE,iBACE,OADF,EAEE,QAFF,EAGE,eAHF,EAG+B;AAE7B,UAAI,IAAI,GAAG,KAAK,KAAL,CAAW,GAAX,CAAe,OAAf,CAAX;;AACA,UAAI,IAAJ,EAAU;AACR,QAAA,IAAI,CAAC,MAAL;AACA,eAAO,IAAP;AACD;;AACD,MAAA,IAAI,GAAG,IAAI,mBAAJ,CAAwB,OAAxB,EAAiC,QAAjC,EAA2C,eAA3C,CAAP;AACA,WAAK,KAAL,CAAW,GAAX,CAAe,OAAf,EAAwB,IAAxB;AACA,aAAO,IAAP;AACD;AAxBH;AAAA;AAAA,WA0BE,iBAAQ,IAAR,EAAiC;AAC/B,UAAM,QAAQ,GAAG,IAAI,CAAC,UAAL,EAAjB;;AACA,UAAI,CAAC,QAAL,EAAe;AACb,aAAK,KAAL,CAAW,MAAX,CAAkB,IAAI,CAAC,OAAvB;AACD;;AACD,aAAO,QAAP;AACD;AAhCH;AAAA;AAAA,WAIE,uBAAkB;AAChB,UAAI,CAAC,0BAA0B,CAAC,QAAhC,EAA0C;AACxC,QAAA,0BAA0B,CAAC,QAA3B,GAAsC,IAAI,0BAAJ,EAAtC;AACD;;AACD,aAAO,0BAA0B,CAAC,QAAlC;AACD;AATH;;AAAA;AAAA","sourcesContent":["import { RNSharedElementNode } from \"./RNSharedElementNode.web\";\nimport { IHTMLElement } from \"./types\";\n\nexport class RNSharedElementNodeManager {\n  private nodes = new Map<HTMLElement, RNSharedElementNode>();\n  private static instance: RNSharedElementNodeManager;\n\n  static getInstance(): RNSharedElementNodeManager {\n    if (!RNSharedElementNodeManager.instance) {\n      RNSharedElementNodeManager.instance = new RNSharedElementNodeManager();\n    }\n    return RNSharedElementNodeManager.instance;\n  }\n\n  acquire(\n    domNode: IHTMLElement,\n    isParent: boolean,\n    ancestorDomNode: IHTMLElement\n  ): RNSharedElementNode {\n    let node = this.nodes.get(domNode);\n    if (node) {\n      node.addRef();\n      return node;\n    }\n    node = new RNSharedElementNode(domNode, isParent, ancestorDomNode);\n    this.nodes.set(domNode, node);\n    return node;\n  }\n\n  release(node: RNSharedElementNode) {\n    const refCount = node.releaseRef();\n    if (!refCount) {\n      this.nodes.delete(node.domNode);\n    }\n    return refCount;\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}